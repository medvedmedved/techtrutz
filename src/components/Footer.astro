---
const { basePath = '' } = Astro.props;
const normalizedBase = basePath && basePath !== '/' ? `/${String(basePath).replace(/^\/+|\/+$/g, '')}` : '';
const withBase = (path: string) => {
  const clean = path.replace(/^\/+/, '');
  if (!clean) return normalizedBase ? `${normalizedBase}/` : '/';
  return `${normalizedBase}/${clean}`.replace(/\/{2,}/g, '/');
};
const logoLightNav = withBase('/logoforwhite-nav.png');
const logoDarkNav = withBase('/logoforblack-nav.png');
---

<footer class="site-footer mt-24 border-t border-slate-200 bg-white/80 py-10">
  <div class="container-page flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between">
    <div class="flex items-center gap-3">
      <span class="site-logo-switch" aria-hidden="true">
        <img
          src={logoLightNav}
          alt=""
          class="logo-wordmark logo-wordmark-footer site-logo"
          loading="lazy"
          decoding="async"
          data-theme-logo
          data-logo-light={logoLightNav}
          data-logo-dark={logoDarkNav}
        />
      </span>
      <div>
        <p class="text-sm font-semibold text-ink-900" data-i18n="footer.brand">TechTrutz IT-Service</p>
        <p class="text-sm text-slate-700" data-i18n="footer.rights">Â© {new Date().getFullYear()} TechTrutz. Alle Rechte vorbehalten.</p>
      </div>
    </div>
    <nav aria-label="Footer Navigation" class="flex flex-wrap gap-5 text-sm">
      <a class="focus-ring rounded text-slate-700 hover:text-accent-700" href={withBase('/impressum')} data-i18n="footer.imprint">Impressum</a>
      <a class="focus-ring rounded text-slate-700 hover:text-accent-700" href={withBase('/datenschutz')} data-i18n="footer.privacy">Datenschutz</a>
      <a class="focus-ring rounded text-slate-700 hover:text-accent-700" href={withBase('/barrierefreiheit')} data-i18n="footer.accessibility">Barrierefreiheit</a>
      <a class="focus-ring rounded text-slate-700 hover:text-accent-700" href={withBase('/kontakt')} data-i18n="footer.contact">Kontakt</a>
    </nav>
  </div>
</footer>
